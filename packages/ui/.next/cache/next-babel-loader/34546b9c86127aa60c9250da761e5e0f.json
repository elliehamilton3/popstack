{"ast":null,"code":"var _jsxFileName = \"/Users/ellie/Developer/popstack/packages/ui/pages/dashboard.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Navbar from \"../components/navbar/navbar.component\";\nimport { Typography, Grid, Paper, Box, Button } from \"@material-ui/core\";\nexport default function Dashboard() {\n  const {\n    user,\n    isAuthenticated,\n    getAccessTokenSilently\n  } = useAuth0();\n  const {\n    0: resumeList,\n    1: setResumeList\n  } = useState();\n\n  const callSecureApi = async () => {\n    try {\n      const token = await getAccessTokenSilently();\n      const response = await fetch(`http://localhost:3001/v1/users/me`, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const responseData = await response.json();\n      const resumes = responseData.resumes.map(resume => ({\n        id: resume.id,\n        type: \"Resume\",\n        title: \"Alexandra's resume\"\n      }));\n      setResumeList(resumes);\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), __jsx(Box, {\n    p: 10,\n    mt: 18,\n    bgcolor: \"#ffb7d5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, isAuthenticated ? __jsx(React.Fragment, null, __jsx(Typography, {\n    variant: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"My resumes and cover letters\"), __jsx(Typography, {\n    variant: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, user.name), __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, user.email), __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, user.sub), __jsx(Button, {\n    onClick: callSecureApi,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"Get user\"), __jsx(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, resumeList && resumeList.map((resume, i) => __jsx(Grid, {\n    item: true,\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    direction: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, __jsx(Paper, {\n    style: {\n      height: \"150px\",\n      width: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 26\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \" \", __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 27\n    }\n  }, resume.id)), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, \" \", __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 27\n    }\n  }, resume.type)), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, \" \", __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 27\n    }\n  }, resume.title))))))) : __jsx(React.Fragment, null)));\n}","map":{"version":3,"sources":["/Users/ellie/Developer/popstack/packages/ui/pages/dashboard.tsx"],"names":["useState","useAuth0","Navbar","Typography","Grid","Paper","Box","Button","Dashboard","user","isAuthenticated","getAccessTokenSilently","resumeList","setResumeList","callSecureApi","token","response","fetch","headers","Accept","Authorization","responseData","json","resumes","map","resume","id","type","title","error","console","log","message","name","email","sub","i","height","width"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Navbar from \"../components/navbar/navbar.component\";\nimport { Typography, Grid, Paper, Box, Button} from \"@material-ui/core\";\nimport { ResumeListItem } from \"../interface/resume.interface\";\n\nexport default function Dashboard() {\n  const { user, isAuthenticated, getAccessTokenSilently } = useAuth0();\n  const [resumeList, setResumeList] = useState<ResumeListItem[]>();\n\n  const callSecureApi = async () => {\n    try {\n      const token = await getAccessTokenSilently();\n\n      const response = await fetch(\n        `http://localhost:3001/v1/users/me`,\n        {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      const responseData = await response.json();\n      const resumes = responseData.resumes.map((resume:any) => ({id: resume.id, type: \"Resume\", title: \"Alexandra's resume\"}))\n      setResumeList(resumes)\n\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n  return (\n    <>\n      <Navbar />\n      <Box p={10} mt={18} bgcolor=\"#ffb7d5\">\n        {isAuthenticated ? (\n          <>\n          <Typography variant=\"h1\">My resumes and cover letters</Typography>\n          <Typography variant=\"h1\">{user.name}</Typography>\n          <Typography>{user.email}</Typography>\n          <Typography>{user.sub}</Typography>\n          <Button onClick={callSecureApi}>Get user</Button>\n          <Grid container>\n          {resumeList && resumeList.map((resume, i) => (\n            <Grid item key={i}>\n              <Grid container direction=\"column\">\n              <Grid item><Paper style={{height: \"150px\", width: \"100px\"}}/></Grid>\n              <Grid item> <Typography>{resume.id}</Typography></Grid>\n              \n              <Grid item> <Typography>{resume.type}</Typography></Grid>\n              <Grid item> <Typography>{resume.title}</Typography></Grid>\n                </Grid>\n            </Grid>\n          ))}\n          </Grid>\n        </>\n        )    \n        : <></>}\n        </Box>\n      </>\n  )\n}"]},"metadata":{},"sourceType":"module"}