{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Navbar from \"../components/navbar/navbar.component\";\nimport { Typography, Grid, Paper, Box, Button } from \"@material-ui/core\";\nexport default function Dashboard() {\n  const {\n    user,\n    isAuthenticated,\n    getAccessTokenSilently\n  } = useAuth0();\n  const {\n    0: resumeList,\n    1: setResumeList\n  } = useState();\n\n  const callSecureApi = async () => {\n    try {\n      const token = await getAccessTokenSilently();\n      const response = await fetch(`http://localhost:3000/v1/users/me`, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const responseData = await response.json();\n      const resumes = responseData.resumes.map(resume => ({\n        id: resume.id,\n        type: \"Resume\",\n        title: \"Alexandra's resume\"\n      }));\n      setResumeList(resumes);\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Navbar, null), __jsx(Box, {\n    pt: 10,\n    bgcolor: \"#ffb7d5\"\n  }, isAuthenticated ? __jsx(React.Fragment, null, __jsx(Typography, {\n    variant: \"h1\"\n  }, \"My resumes and cover letters\"), __jsx(Typography, {\n    variant: \"h1\"\n  }, user.name), __jsx(Typography, null, user.email), __jsx(Typography, null, user.sub), __jsx(Button, {\n    onClick: callSecureApi\n  }, \"Get user\"), __jsx(Grid, {\n    container: true\n  }, resumeList && resumeList.map((resume, i) => __jsx(Grid, {\n    item: true,\n    key: i\n  }, __jsx(Grid, {\n    container: true,\n    direction: \"column\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(Paper, {\n    style: {\n      height: \"150px\",\n      width: \"100px\"\n    }\n  })), __jsx(Grid, {\n    item: true\n  }, \" \", __jsx(Typography, null, resume.id)), __jsx(Grid, {\n    item: true\n  }, \" \", __jsx(Typography, null, resume.type)), __jsx(Grid, {\n    item: true\n  }, \" \", __jsx(Typography, null, resume.title))))))) : __jsx(React.Fragment, null)));\n}","map":null,"metadata":{},"sourceType":"module"}