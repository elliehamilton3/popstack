{"ast":null,"code":"var _jsxFileName = \"/ui/pages/dashboard.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Navbar from \"../components/navbar/navbar.component\";\nimport { Typography, Grid, Paper, Box, IconButton } from \"@material-ui/core\";\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport LaunchIcon from '@material-ui/icons/Launch';\nexport default function Dashboard() {\n  const {\n    user,\n    isAuthenticated,\n    getAccessTokenSilently\n  } = useAuth0();\n  const {\n    0: resumeList,\n    1: setResumeList\n  } = useState();\n  useEffect(() => {\n    getUserData();\n  }, [user]);\n\n  const getUserData = async () => {\n    try {\n      const token = await getAccessTokenSilently();\n      const response = await fetch(`http://localhost:3001/v1/users/me`, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const responseData = await response.json();\n      const resumes = responseData.resumes.map(resume => ({\n        id: resume.id,\n        type: \"Resume\",\n        title: \"Alexandra's resume\"\n      }));\n      setResumeList(resumes);\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  const createResume = async () => {\n    try {\n      const token = await getAccessTokenSilently();\n      await fetch(`http://localhost:3001/v1/resume/0`, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        method: \"POST\"\n      });\n      getUserData();\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), isAuthenticated ? __jsx(Box, {\n    p: 12,\n    bgcolor: \"#ffb7d5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    variant: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"My resumes and cover letters\"), __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, user.email), __jsx(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, resumeList && resumeList.map((resume, i) => __jsx(Grid, {\n    item: true,\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    direction: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, __jsx(Paper, {\n    style: {\n      height: \"200px\",\n      width: \"160px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 26\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: \"center\",\n    alignContent: \"center\",\n    style: {\n      height: \"100%\"\n    },\n    direction: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, __jsx(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, __jsx(DeleteForeverIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 26\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, __jsx(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, __jsx(GetAppIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 26\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, __jsx(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, __jsx(LaunchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 26\n    }\n  })))))), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \" \", __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 27\n    }\n  }, resume.id)), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, \" \", __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 27\n    }\n  }, resume.type)), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, \" \", __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 27\n    }\n  }, resume.title))))), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, __jsx(Paper, {\n    style: {\n      height: \"200px\",\n      width: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 22\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: \"center\",\n    alignContent: \"center\",\n    style: {\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, __jsx(IconButton, {\n    onClick: () => createResume(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, __jsx(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 56\n    }\n  })))))))) : __jsx(React.Fragment, null));\n}","map":{"version":3,"sources":["/ui/pages/dashboard.tsx"],"names":["useState","useEffect","useAuth0","Navbar","Typography","Grid","Paper","Box","IconButton","AddIcon","DeleteForeverIcon","GetAppIcon","LaunchIcon","Dashboard","user","isAuthenticated","getAccessTokenSilently","resumeList","setResumeList","getUserData","token","response","fetch","headers","Accept","Authorization","responseData","json","resumes","map","resume","id","type","title","error","console","log","message","createResume","method","email","i","height","width"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Navbar from \"../components/navbar/navbar.component\";\nimport { Typography, Grid, Paper, Box, IconButton} from \"@material-ui/core\";\nimport { ResumeListItem } from \"../interface/resume.interface\";\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport LaunchIcon from '@material-ui/icons/Launch';\n\nexport default function Dashboard() {\n  const { user, isAuthenticated, getAccessTokenSilently } = useAuth0();\n  const [resumeList, setResumeList] = useState<ResumeListItem[]>();\n\n  useEffect(() => {\n    getUserData();\n  }, [user]);\n\n  const getUserData = async () => {\n    try {\n      const token = await getAccessTokenSilently();\n\n      const response = await fetch(\n        `http://localhost:3001/v1/users/me`,\n        {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      const responseData = await response.json();\n      const resumes = responseData.resumes.map((resume:any) => ({id: resume.id, type: \"Resume\", title: \"Alexandra's resume\"}))\n      setResumeList(resumes)\n\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  const createResume = async () => {\n    try {\n      const token = await getAccessTokenSilently();\n\n      await fetch(\n        `http://localhost:3001/v1/resume/0`,\n        {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          method: \"POST\"\n        }\n      );\n\n      getUserData()\n\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n  return (\n    <>\n        <Navbar />\n        {isAuthenticated ? (\n          <Box p={12} bgcolor=\"#ffb7d5\">\n          <Typography variant=\"h2\">My resumes and cover letters</Typography>\n          <Typography>{user.email}</Typography>\n          <Grid container>\n          {resumeList && resumeList.map((resume, i) => (\n            <Grid item key={i}>\n              <Grid container direction=\"column\">\n              <Grid item><Paper style={{height: \"200px\", width: \"160px\"}}>\n              <Grid container justify=\"center\" alignContent=\"center\" style={{height: \"100%\"}} direction=\"column\">\n              <Grid item>\n            <IconButton ><DeleteForeverIcon/></IconButton>\n            </Grid>\n            <Grid item>\n            <IconButton ><GetAppIcon/></IconButton>\n            </Grid>\n            <Grid item>\n            <IconButton ><LaunchIcon/></IconButton>\n            </Grid>\n            </Grid>\n                </Paper></Grid>\n              <Grid item> <Typography>{resume.id}</Typography></Grid>\n              \n              <Grid item> <Typography>{resume.type}</Typography></Grid>\n              <Grid item> <Typography>{resume.title}</Typography></Grid>\n                </Grid>\n            </Grid>\n          ))}\n          <Grid item><Paper style={{height: \"200px\", width: \"100px\"}}>\n            <Grid container justify=\"center\" alignContent=\"center\" style={{height: \"100%\"}}>\n              <Grid item>\n            <IconButton onClick={() => createResume()}><AddIcon/></IconButton>\n            </Grid>\n            </Grid>\n            </Paper></Grid>\n          </Grid>\n          \n\n          </Box>\n        )    \n        : <></>}\n      </>\n  )\n}"]},"metadata":{},"sourceType":"module"}